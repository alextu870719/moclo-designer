# TeselaGen OVE Vector Editor 整合說明

## 🎉 整合完成！

已成功將 TeselaGen 的開源向量編輯器 (OVE) 整合到你的 MoClo Designer 軟體中！

## 📋 新功能特點

### 🧬 向量編輯器
- **環形視圖**: 以環形圖顯示質體，適合觀察完整結構
- **線性視圖**: 以線性方式展示序列，便於詳細分析
- **序列圖**: 顯示完整的序列信息，支援註釋和特徵

### 🔧 編輯功能
- **特徵管理**: 添加、編辑、刪除質體特徵
- **序列編輯**: 直接編輯 DNA 序列
- **註釋工具**: 添加基因、啟動子、終止子等註釋
- **切點分析**: 自動顯示限制性內切酶位點

### 🎨 視覺化功能
- **T2S 位點**: 清晰標示 T2S (Type IIS) 酶切位點
- **特徵標註**: 不同顏色區分各種功能元件
- **ORF 分析**: 開放讀框檢測和顯示
- **翻譯框**: 三個讀框的蛋白質翻譯

### 🛠️ 工具欄
- **保存工具**: 儲存修改後的序列
- **下載工具**: 匯出多種格式 (GenBank, FASTA 等)
- **導入工具**: 導入外部序列文件
- **撤銷/重做**: 完整的編輯歷史管理
- **搜索工具**: 序列搜索和模式匹配

## 🚀 如何使用

### 1. 查看質體
1. 啟動應用程式：`npm run dev`
2. 從左側列表選擇任意質體
3. 在右側詳情面板中即可看到新的 "Vector Editor" 區塊

### 2. 編輯序列
1. 在編輯器中點擊序列部分
2. 直接輸入或修改 DNA 序列
3. 系統會自動更新相關信息（長度、T2S 位點等）

### 3. 添加特徵
1. 選擇序列中的某個區域
2. 右鍵選擇 "Create Feature"
3. 設置特徵名稱、類型和顏色
4. 點擊保存

### 4. 分析切點
1. 使用工具欄中的 "Cutsites Tool"
2. 選擇要分析的限制性內切酶
3. 查看切點位置和產生的片段

## 🔧 技術架構

### 核心依賴
```json
{
  "@teselagen/ove": "^0.7.36",           // 主要編輯器組件
  "@teselagen/bio-parsers": "^0.4.28",   // 生物格式解析器
  "@teselagen/sequence-utils": "^0.3.32", // 序列處理工具
  "redux": "^4.2.1",                     // 狀態管理
  "react-redux": "^8.1.3",               // React-Redux 綁定
  "@blueprintjs/core": "^3.54.0",        // UI 組件庫
  "@blueprintjs/icons": "^3.33.0"        // 圖標庫
}
```

### 組件結構
```
src/renderer/components/
├── VectorEditor.tsx        // 新增：OVE 包裝組件
├── PlasmidDetails.tsx      // 更新：整合編輯器
└── ...
```

### 數據流程
1. **Plasmid** 格式 → **OVE** 格式轉換
2. 用戶在 OVE 中編輯
3. **OVE** 格式 → **Plasmid** 格式轉換
4. 更新到資料庫

## 🎯 測試建議

### 基本測試
1. **視覺化測試**: 確認質體在圓形和線性視圖中正確顯示
2. **特徵測試**: 檢查現有特徵是否正確標註和顯示
3. **T2S 測試**: 驗證 T2S 切點是否正確標示

### 功能測試  
1. **編輯測試**: 嘗試修改序列，檢查是否正確保存
2. **特徵管理**: 添加新特徵，修改現有特徵
3. **工具測試**: 測試各工具欄功能

### 整合測試
1. **數據同步**: 確認編輯器中的修改會同步到主應用
2. **搜索功能**: 驗證修改後的質體在搜索中正確顯示
3. **資料夾管理**: 確認編輯不影響資料夾歸類

## 🐛 故障排除

### 常見問題
1. **編輯器不顯示**: 檢查是否選中了質體
2. **特徵缺失**: 確認質體數據格式正確
3. **保存失敗**: 檢查序列格式是否有效

### 調試工具
- 打開開發者工具 (F12) 查看控制台錯誤
- 檢查網路請求是否成功
- 查看 Redux DevTools (如已安裝)

## 📚 更多資源

- [TeselaGen OVE 官方文檔](https://github.com/TeselaGen/tg-oss/tree/master/packages/ove)
- [OVE 在線演示](https://teselagen.github.io/tg-oss/ove/#/Editor)
- [生物信息學格式說明](https://github.com/TeselaGen/tg-oss/tree/master/packages/bio-parsers)

## 🎊 恭喜！

你的 MoClo Designer 現在擁有了專業級的向量編輯功能！這個整合為你的軟體帶來了：

- **企業級品質**: TeselaGen 是生物技術行業領先的軟體公司
- **開源優勢**: 完全開源，可自由定制和擴展
- **活躍社區**: 持續更新和維護
- **標準兼容**: 支援多種生物信息學標準格式

享受你的新功能吧！🚀
